<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8" />
  <title>Quản lý voucher</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.tailwindcss.com/3.4.16"></script>
  <script>tailwind.config = { theme: { extend: { colors: { primary: '#1e88e5', secondary: '#f5f5f5' }, borderRadius: { 'none': '0px', 'sm': '4px', DEFAULT: '8px', 'md': '12px', 'lg': '16px', 'xl': '20px', '2xl': '24px', '3xl': '32px', 'full': '9999px', 'button': '8px' } } } }</script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.5.0/echarts.min.js"></script>

  <style>
    body {
      background-color: #f0f3f7;
      margin: 0;
      font-family: 'Poppins', sans-serif;
      color: #2c3e50;
    }

    :where([class^="ri-"])::before {
      content: "\f3c2";
    }

    .active-link {
      color: #e5a500;
      font-weight: 600;
    }

    .status-pending {
      color: #e5a500;
    }
  </style>

</head>

<body>
  <div th:replace="nav :: na"></div>
  <div th:replace="header :: header"></div>

  <h1 style="margin-left: 300px; font-size: 23px; margin-top: 78px;">Quản lý đơn hàng chi tiết</h1>

  <div class="flex justify-center bg-[#f2f2f2] px-4 pb-10">
    <div class="w-full max-w-[1200px] bg-white shadow-md rounded-lg px-8 py-6"
      style="margin-left: 287px; margin-top: 20px;">

      <!-- Thêm nút quay lại danh sách đơn hàng -->
      <div class="flex justify-between items-start mb-4">
        <a href="/admin-order" class="flex items-center text-blue-600 hover:text-blue-800">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd"
              d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z"
              clip-rule="evenodd" />
          </svg>
          Quay lại
        </a>
        <!-- Thêm dropdown hành động -->
        <div class="relative">
          <button id="actionDropdownButton"
            class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center">
            Hành động
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-2" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd"
                d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                clip-rule="evenodd" />
            </svg>
          </button>
          <div id="actionDropdown" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10">
            <div class="py-1">
              <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">In đơn hàng</a>
              <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Gửi email xác nhận</a>
              <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Hủy đơn hàng</a>
              <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Đánh dấu đã thanh toán</a>
            </div>
          </div>
        </div>
      </div>

      <!-- Order Header (giữ nguyên) -->
      <div class="flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-2">
        <h1 class="text-3xl font-bold text-gray-900">Chi tiết đơn hàng <span
            class="text-lg text-gray-600">#00123</span></h1>
        <p class="text-gray-500 text-base">Ngày tạo: 17/06/2025</p>
      </div>

      <!-- Thêm phần cập nhật trạng thái -->
      <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6">
        <div class="flex items-center">
          <div class="flex-shrink-0">
            <svg class="h-5 w-5 text-yellow-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
              fill="currentColor">
              <path fill-rule="evenodd"
                d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"
                clip-rule="evenodd" />
            </svg>
          </div>
          <div class="ml-3 w-full">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between">
              <p class="text-sm text-yellow-700">
                Cập nhật trạng thái đơn hàng
              </p>
              <div class="mt-2 md:mt-0 flex gap-2">
                <select class="border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm">
                  <option>Chờ xác nhận</option>
                  <option>Đã xác nhận</option>
                  <option>Đang đóng gói</option>
                  <option>Đang vận chuyển</option>
                  <option>Đã giao hàng</option>
                  <option>Đã hủy</option>
                </select>
                <button class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-md text-sm">
                  Cập nhật
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Order Status (cải tiến thêm nút chỉnh sửa) -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
        <div class="flex items-center text-base">
          <span class="text-gray-700 font-semibold mr-1">TT thanh toán:</span>
          <span class="status-pending font-semibold text-[#e5a500]">Chưa thanh toán</span>
          <button class="ml-2 text-blue-600 hover:text-blue-800">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
            </svg>
          </button>
        </div>
        <div class="flex items-center text-base">
          <span class="text-gray-700 font-semibold mr-1">TT đơn hàng:</span>
          <span class="status-pending font-semibold text-[#e5a500]">Chờ xác nhận</span>
        </div>
        <div class="flex items-center text-base">
          <span class="text-gray-700 font-semibold mr-1">Mã vận đơn:</span>
          <span class="text-gray-800 font-medium">—</span>
          
        </div>
      </div>

      <!-- Order Info Boxes (thêm nút chỉnh sửa) -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
        <div class="bg-white p-4 rounded-lg border border-gray-200 shadow-sm relative">
          <button class="absolute top-2 right-2 text-gray-400 hover:text-gray-600">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
            </svg>
          </button>
          <h2 class="font-bold mb-2 text-lg text-[#080c8c]">ĐỊA CHỈ GIAO HÀNG</h2>
          <p class="text-gray-800 text-base font-semibold">TEST LÊ</p>
          <p class="text-gray-700 text-sm">12 Tôn Bản, Thị xã Sơn Tây, Hà Nội</p>
          <p class="text-gray-700 text-sm">+84987654325</p>
        </div>

        <div class="bg-white p-4 rounded-lg border border-gray-200 shadow-sm relative">
          <button class="absolute top-2 right-2 text-gray-400 hover:text-gray-600">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
            </svg>
          </button>
          <h2 class="text-[#080c8c] font-bold mb-2 text-lg">THANH TOÁN</h2>
          <p class="text-gray-700 text-base font-semibold">Chuyển khoản</p>
          <p class="text-gray-600 text-sm mt-1">Chưa thanh toán</p>
        </div>

        <div class="bg-white p-4 rounded-lg border border-gray-200 shadow-sm relative">
          <button class="absolute top-2 right-2 text-gray-400 hover:text-gray-600">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
            </svg>
          </button>
          <h2 class="text-[#080c8c] font-bold mb-2 text-lg">GHI CHÚ</h2>
          <p class="text-gray-700 text-base font-semibold">Không có ghi chú</p>
          <textarea class="mt-2 w-full border rounded p-2 text-sm hidden" rows="3"
            placeholder="Thêm ghi chú..."></textarea>
        </div>
      </div>

      <!-- Order Items (thêm cột hành động) -->
      <div class="bg-white rounded-lg border border-gray-200 overflow-hidden mb-6">
        <table class="w-full table-auto border-collapse">
          <thead class="bg-gray-50">
            <tr>
              <th class="py-3 px-4 border border-gray-200 text-left text-gray-700 font-bold text-base">Sản phẩm</th>
              <th class="py-3 px-4 border border-gray-200 text-right text-gray-700 font-bold text-base min-w-[120px]">Số
                serial</th>
              <th class="py-3 px-4 border border-gray-200 text-right text-gray-700 font-bold text-base min-w-[120px]">
                Đơn giá</th>
              <th class="py-3 px-4 border border-gray-200 text-center text-gray-700 font-bold text-base min-w-[100px]">
                Số lượng</th>
              <th class="py-3 px-4 border border-gray-200 text-right text-gray-700 font-bold text-base min-w-[120px]">
                Tổng</th>
            </tr>
          </thead>
          <tbody>
            <tr class="text-base">
              <td class="py-3 px-4 border border-gray-200">
                <div class="flex items-center gap-3">
                  <img
                    src="https://bizweb.dktcdn.net/100/502/883/products/230628110910-iphone-14-pro-max-1-1bad29d8-76a1-4f4a-9bc2-93eee6a2d7ea-61e61768-f143-48bd-a884-d552977c5f1c.png?v=1700193758290"
                    class="w-12 h-12 object-contain rounded bg-gray-100" />
                  <span class="text-gray-800 font-medium">iPhone 14 Pro Max 1TB - Chính hãng VN/A</span>
                </div>
              </td>
              <td class="py-3 px-4 border border-gray-200 text-right text-gray-800 font-medium">demo123</td>
              <td class="py-3 px-4 border border-gray-200 text-right text-gray-800 font-medium">19.429.000đ</td>
              <td class="py-3 px-4 border border-gray-200 text-center text-gray-800 font-medium">1</td>
              <td class="py-3 px-4 border border-gray-200 text-right text-gray-800 font-medium">19.429.000đ</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Order Summary (thêm nút lưu thay đổi) -->
      <div class="bg-white rounded-lg border border-gray-200 p-6 mb-6">
        <div class="flex justify-between text-base py-1">
          <span class="text-gray-600 font-semibold">Khuyến mãi:</span>
          <div class="flex items-center">
            <span class="text-gray-800 font-medium mr-2">0đ</span>
          </div>
        </div>
        <div class="flex justify-between text-base py-1 border-b border-gray-100">
          <span class="text-gray-600 font-semibold">Phí vận chuyển:</span>
          <div class="flex items-center">
            <span class="text-gray-800 font-medium mr-2">40.000đ</span>
          </div>
        </div>
        <div class="flex justify-between items-center py-3">
          <span class="text-gray-800 font-bold text-lg">Tổng tiền:</span>
          <span class="text-red-600 text-2xl font-bold">19.469.000đ</span>
        </div>
        <div class="flex justify-end gap-3 pt-3 border-t border-gray-100">
          <button class="bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded-md">
            Hủy thay đổi
          </button>
          <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md">
            Lưu thay đổi
          </button>
        </div>
      </div>

      <!-- Thêm phần lịch sử đơn hàng -->
      <div class="bg-white rounded-lg border border-gray-200 p-6">
        <h2 class="text-xl font-bold text-gray-900 mb-4">Lịch sử đơn hàng</h2>
        <div class="space-y-4">
          <div class="flex items-start">
            <div class="flex-shrink-0 bg-blue-100 rounded-full p-2">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-600" viewBox="0 0 20 20"
                fill="currentColor">
                <path fill-rule="evenodd"
                  d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2h-1V9z"
                  clip-rule="evenodd" />
              </svg>
            </div>
            <div class="ml-3">
              <p class="text-sm font-medium text-gray-900">Đơn hàng đã được tạo</p>
              <p class="text-sm text-gray-500">17/06/2025 lúc 14:30 bởi hệ thống</p>
            </div>
          </div>
          <div class="flex items-start">
            <div class="flex-shrink-0 bg-yellow-100 rounded-full p-2">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-600" viewBox="0 0 20 20"
                fill="currentColor">
                <path fill-rule="evenodd"
                  d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"
                  clip-rule="evenodd" />
              </svg>
            </div>
            <div class="ml-3">
              <p class="text-sm font-medium text-gray-900">Đơn hàng đang chờ xác nhận</p>
              <p class="text-sm text-gray-500">17/06/2025 lúc 14:35 bởi Admin</p>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <script>
    // Script để xử lý dropdown hành động
    document.getElementById('actionDropdownButton').addEventListener('click', function () {
      document.getElementById('actionDropdown').classList.toggle('hidden');
    });

    // Đóng dropdown khi click ra ngoài
    window.addEventListener('click', function (event) {
      if (!event.target.matches('#actionDropdownButton')) {
        var dropdowns = document.getElementsByClassName('dropdown-content');
        for (var i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (!openDropdown.classList.contains('hidden')) {
            openDropdown.classList.add('hidden');
          }
        }
      }
    });
  </script>

</body>

</html>
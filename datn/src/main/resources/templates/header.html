<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div th:fragment="header">
      <!-- Nhúng nếu chưa có -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
      <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      />

      <style>
        .header-container {
          background: #fbfdfe;
          position: fixed;
          z-index: 500;
          top: 0;
          right: 0;
          padding: 15px 20px;
          font-size: 18px;
          display: flex;
          justify-content: space-between;
          align-items: center;
          width: calc(100% - 250px); 
         
         
        }

        .search-box {
          display: flex;
          align-items: center;
          background-color: white;
          border-radius: 4px;
          padding: 4px 8px;
          width: 300px;
        }

        .search-box input {
          border: none;
          outline: none;
          padding: 4px 8px;
        }

        .user-info {
          display: flex;
          align-items: center;
          gap: 10px;
          padding-right: 50px;
          position: relative;
          cursor: pointer;
        }

        .user-dropdown {
          position: absolute;
          top: 40px;
          right: 0;
          width: 300px;
          height: 250px;
          background-color: white;
          border-radius: 8px;
          box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
          padding: 15px;
          display: none;
          z-index: 1001;
        }

        .user-dropdown.active {
          display: block;
        }

        .user-dropdown p {
           padding: 15px ;
        }
        
.user-dropdown > p > i{
           margin-right: 10px;
        }
        .user-dropdown hr {
          margin: 10px 0;
        }

        .user-dropdown button {
          width: 100%;
          padding: 8px;
          border: none;
          background-color: #04a9f5;
          color: white;
          border-radius: 5px;
          cursor: pointer;
        }
        .down {
          width: 300px;
          background: #04a9f5;
          color: white;
          padding: 20px;
          border-radius: 8px 8px 0 0;
          box-shadow: inset 0 2px 4px rgba(255, 255, 255, 0.1);
          font-size: 14px;
          margin-top: -19px;
          margin-left: -15px;
          /* margin-right: -15px; */
        }
       
       .user-info > span > i:hover {
  transform: scale(1.2);
  transition: transform 0.2s ease;
}

.user-dropdown > p:hover {
  background-color: aliceblue;
}

      </style>
      <header class="header-container">
        <!-- Thông tin người dùng -->
        <div class="user-info" id="userInfo" style="margin-left: auto">
          <span id="userIcon"><i class="fas fa-user-circle"></i></span>
          <!-- <span>
            Xin chào,
            <span th:text="${loggedInUser?.fullname}">Người dùng</span>!
          </span> -->

          <!-- Dropdown -->
          <div class="user-dropdown" id="userDropdown">
            <!-- <p>
              <strong th:text="${loggedInUser?.fullname}"
                >Tên người dùng</strong
              >
            </p> -->
            <!-- <p th:text="${loggedInUser?.email}">email@example.com</p> -->

            <div class="down">
              
                <strong th:text="${loggedInUser?.role}"
                  >Quyền: Quản trị viên</strong>
              
             
              <i class="fas fa-user"></i> Nguyễn Văn A<span th:text="${loggedInUser?.fullname}"></span>
            </div>
            <p> <i class="fa-solid fa-user"></i> Tài khoản</p>
            <p> <i class="fa-solid fa-gear"></i> Đổi mật khẩu</p>

            <hr />

            <button>Đăng xuất</button>
          </div>
        </div>
      </header>
      <script>
        const icon = document.getElementById("userIcon");
        const dropdown = document.getElementById("userDropdown");

        icon.addEventListener("click", function (e) {
          dropdown.classList.toggle("active");
          e.stopPropagation(); // Ngăn sự kiện lan ra ngoài
        });

        window.addEventListener("click", function () {
          dropdown.classList.remove("active"); // Ẩn nếu bấm ra ngoài
        });
      </script>
    </div>
  </body>
</html>

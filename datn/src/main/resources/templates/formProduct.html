<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8" />
  <title>Th√™m s·∫£n ph·∫©m</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 30px;
    }

    table {
      border-collapse: collapse;
      width: 100%;
      margin-top: 20px;
    }

    th,
    td {
      border: 1px solid #ccc;
      padding: 10px;
      text-align: center;
    }

    form {
      margin-top: 20px;
    }

    button {
      padding: 6px 12px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    .edit-btn {
      background-color: #2980b9;
      color: white;
    }

    .delete-btn {
      background-color: #e74c3c;
      color: white;
    }
  </style>
</head>

<body>
  <div th:replace="~{dashboard :: nav}"></div>
  <!-- ƒê√∫ng -->

  <h2>üìù Th√™m s·∫£n ph·∫©m</h2>
  <form th:action="@{/admin-products/add}" method="post" enctype="multipart/form-data" th:object="${product}">
    <input type="hidden" th:field="*{productID}" />

    <label>T√™n s·∫£n ph·∫©m:</label><br />
    <input type="text" th:field="*{productName}" required /><br />

    <label>Lo·∫°i (ID):</label><br />

    <select th:field="*{category.categoryID}" required>
      <option value="" selected>-- Ch·ªçn danh m·ª•c --</option>
      <option th:each="c : ${categories}" th:value="${c.categoryID}" th:text="${c.name}">
      </option>
    </select>

    <br />

    <label>M√¥ t·∫£:</label><br />
    <textarea th:field="*{description}" rows="3"></textarea><br />

    <label>·∫¢nh:</label><br />
    <input type="file" name="imageFile" /><br /><br />

    <button type="submit">L∆∞u s·∫£n ph·∫©m</button>
  </form>

  <h3>üìã Danh s√°ch s·∫£n ph·∫©m</h3>
  <table>
    <tr>
      <th>STT</th>
      <th>T√™n s·∫£n ph·∫©m</th>
      <th>Lo·∫°i</th>
      <th>M√¥ t·∫£</th>
      <th>·∫¢nh</th>
      <th>S·ª≠a</th>
      <th>X√≥a</th>
    </tr>

    <tr th:each="p, iter : ${products}">
      <td th:text="${iter.index + 1}"></td>
      <td th:text="${p.productName}"></td>
      <td th:text="${p.category.name}"></td>
      <td th:text="${p.description}"></td>
      <td>
        <img th:src="@{'/images/' + ${p.imageUrl}}" width="60" />
      </td>
      <td>
        <a th:href="@{'/admin-products/edit/' + ${p.productID}}">
          <button class="edit-btn">S·ª≠a</button>
        </a>
      </td>
      <td>
        <a th:href="@{'/admin-products/delete/' + ${p.productID}}" onclick="return confirm('X√≥a s·∫£n ph·∫©m?')">
          <button class="delete-btn">X√≥a</button>
        </a>
      </td>
    </tr>
  </table>
</body>

</html>
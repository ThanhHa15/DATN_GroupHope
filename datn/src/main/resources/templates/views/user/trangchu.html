<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Shop Homepage</title>
  <script src="https://cdn.tailwindcss.com/3.4.16"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="/css/shared/footer.css" />
  <link rel="stylesheet" href="/css/shared/header.css" />
  <style>
    body {
      font-family: 'Roboto', sans-serif;
    }

    .main-content-container {
      max-width: 1250px;
      margin-left: auto;
      margin-right: auto;
    }

    .info-card {
      transition: all 0.3s ease;
    }

    .info-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }

    /* Thêm style mới cho ảnh sản phẩm */
    .product-image-container {
      height: 200px;
      /* Chiều cao cố định */
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 10px;
    }

    .product-image {
      max-width: 100%;
      max-height: 100%;
      width: auto;
      height: auto;
      object-fit: contain;
    }

    .category-image-container {
      height: 120px;
      /* Chiều cao cố định */
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1rem;
    }

    .category-image {
      max-width: 100%;
      max-height: 100%;
      width: auto;
      height: auto;
      object-fit: contain;
    }

    .category-card {
      position: relative;
      overflow: hidden;
    }

    .category-image-container {
      transition: transform 0.3s ease;
    }

    .category-card:hover .category-image-container {
      transform: scale(1.25);
    }

    .category-card h3 {
      transition: color 0.3s ease;
    }

    .category-card:hover h3 {
      color: #fbbf24;
      /* Màu vàng */
    }

    .category-arrow {
      position: absolute;
      bottom: 10px;
      right: 10px;
      color: #000;
      /* Màu đen mặc định */
      transition: color 0.3s ease;
      /* Chỉ transition cho màu sắc */
    }

    .category-card:hover .category-arrow {
      color: #fbbf24;
      /* Chuyển màu vàng khi hover */
    }
  </style>
  <!-- Nút xem tất cả -->
  <style>
    .xem-tat-ca-btn {
      display: block;
      margin: 16px auto 0;
      padding: 8px 24px;
      border: 1px solid #000f8f;
      color: #000f8f;
      border-radius: 4px;
      background-color: transparent;
      cursor: pointer;
      font-size: 16px;
      transition: all 0.3s ease;
    }

    .xem-tat-ca-btn:hover {
      background-color: #000f8f;
      color: white;
    }

    .xem-tat-ca-btn:hover .arrow-icon {
      transform: translateX(10px);
    }

    .arrow-icon {
      transition: transform 0.3s ease;
    }
  </style>
  <!-- poster -->
  <style>
    .image-container {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
      margin: 0 auto;
      max-width: 1000px;
      padding: 20px;
    }

    .image-wrapper {
      flex: 0 0 auto;
      width: 614px;
      overflow: hidden;
      /* Ẩn phần ảnh phóng to vượt khung */
      border-radius: 8px;
      transition: transform 0.3s ease;
      /* Hiệu ứng cho khung ảnh (tùy chọn) */
    }

    .image-wrapper img {
      width: 100%;
      height: auto;
      display: block;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      transition: transform 0.5s ease;
      /* Hiệu ứng zoom */
    }

    /* Hiệu ứng khi hover */
    .image-wrapper:hover img {
      transform: scale(1.05);
      /* Phóng to 5% */
    }

    /* Tùy chọn: nâng khung ảnh lên khi hover */
    .image-wrapper:hover {
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    }

    @media (max-width: 960px) {
      .image-container {
        flex-direction: column;
        gap: 15px;
      }

      .image-wrapper {
        width: 100%;
        max-width: 455px;
      }
    }
  </style>
</head>

<body class="bg-[#f2f2f2]">
  <!-- Header (Full width) -->
  <div th:insert="views/shared/header :: siteHeader" style="margin-bottom: 130px;"></div>

  <!-- Main Banner Section -->
  <div class="relative w-full h-[570px] text-center bg-gray-100">
    <!-- Main Banner -->
    <div class="w-full h-full">
      <img src="https://bizweb.dktcdn.net/100/502/883/themes/934584/assets/slider_1.jpg?1719764721426" alt="banner"
        class="w-full h-full object-cover" />
    </div>

    <!-- Small Banners -->
    <div class="absolute bottom-[-120px] left-0 right-0 flex justify-center gap-5 max-w-[1250px] mx-auto flex-wrap z-10"
      style="margin-bottom: -30px;">
      <div class="image-container" style=" margin-bottom: -20px;">
        <div class="image-wrapper" style="width: 612px;">
          <img src="https://bizweb.dktcdn.net/100/502/883/themes/934584/assets/2banner_1.jpg?1719764721426"
            alt="Banner 1">
        </div>
        <div class="image-wrapper" style="width: 612px;">
          <img src="https://bizweb.dktcdn.net/100/502/883/themes/934584/assets/2banner_2.jpg?1719764721426"
            alt="Banner 2">
        </div>
      </div>
    </div>
  </div>

  <!-- Main Content (1250px centered) -->
  <div class="main-content-container" style="margin-top: 180px;">
    <!-- Info Boxes Section -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-32 px-4 mb-8 mx-auto"
      style="padding-left:  1px; padding-right: 1px;">
      <div class="info-card bg-[#ffffff] p-4 rounded-lg shadow-sm border border-gray-100 text-center">
        <div class="text-blue-600 mb-2">
          <i class="fas fa-truck-fast text-2xl"></i>
        </div>
        <h3 class="font-bold mb-1" style="font-size: 20px;">Giao hàng nhanh</h3>
        <p class="text-sm text-gray-600">Nhận hàng trong 2h</p>
      </div>

      <div class="info-card bg-white p-4 rounded-lg shadow-sm border border-gray-100 text-center">
        <div class="text-green-600 mb-2">
          <i class="fas fa-headset text-2xl"></i>
        </div>
        <h3 class="font-bold mb-1" style="font-size: 20px;">Tư vấn chuyên nghiệp</h3>
        <p class="text-sm text-gray-600">Hỗ trợ 24/7</p>
      </div>

      <div class="info-card bg-white p-4 rounded-lg shadow-sm border border-gray-100 text-center">
        <div class="text-purple-600 mb-2">
          <i class="fas fa-certificate text-2xl"></i>
        </div>
        <h3 class="font-bold mb-1" style="font-size: 20px;">100% chính hãng</h3>
        <p class="text-sm text-gray-600">Bảo hành đầy đủ</p>
      </div>

      <div class="info-card bg-white p-4 rounded-lg shadow-sm border border-gray-100 text-center">
        <div class="text-orange-600 mb-2">
          <i class="fas fa-credit-card text-2xl"></i>
        </div>
        <h3 class="font-bold mb-1" style="font-size: 20px;">Thanh toán linh hoạt</h3>
        <p class="text-sm text-gray-600">Nhiều hình thức</p>
      </div>
    </div>

    <div class="px-4 mb-12 bg-white py-6 rounded-lg shadow-sm border border-gray-100 -mt-4">
      <div class="flex items-center justify-between mb-8">
        <h2 class="text-2xl font-bold border-l-8 border-blue-900 pl-4">DANH MỤC NỔI BẬT</h2>
      </div>

      <div class="grid grid-cols-2 md:grid-cols-4 gap-6 px-4">
        <!-- Danh mục iPhone -->
        <div
          class="category-card bg-[white] p-6 rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow">
          <div class="flex flex-col items-center text-center">
            <div class="category-image-container">
              <img th:src="@{/images/iponemau.jpg}" alt="iPhone icon" class="category-image" />
            </div>
            <h3 class="font-bold text-2xl mb-1">iPhone</h3>
            <p class="text-base text-blue-800 font-semibold">Nhiều ưu đãi cho iPhone 15</p>
          </div>
        </div>

        <!-- Danh mục iPad -->
        <div
          class="category-card bg-white p-6 rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow">
          <div class="flex flex-col items-center text-center">
            <div class="category-image-container">
              <img th:src="@{/images/1750395869916_air6.jpg}" alt="iPad icon" class="category-image" />
            </div>
            <h3 class="font-bold text-2xl mb-1">iPad</h3>
            <p class="text-base text-blue-800 font-semibold">Giảm giá cực sốc</p>
          </div>
        </div>

        <!-- Danh mục Mac -->
        <div
          class="category-card bg-white p-6 rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow">
          <div class="flex flex-col items-center text-center">
            <div class="category-image-container">
              <img th:src="@{/images/macmau.webp}" alt="Mac icon" class="category-image" />
            </div>
            <h3 class="font-bold text-2xl mb-1">Mac</h3>
            <p class="text-base text-blue-800 font-semibold">Giá tốt mỗi ngày</p>
          </div>
        </div>

        <!-- Danh mục Watch -->
        <div
          class="category-card bg-white p-6 rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow">
          <div class="flex flex-col items-center text-center">
            <div class="category-image-container">
              <img th:src="@{/images/airpodsmau.webp}" alt="Watch icon" class="category-image" />
            </div>
            <h3 class="font-bold text-2xl mb-1">Watch</h3>
            <p class="text-base text-blue-800 font-semibold">Ưu đãi cực khủng</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Products Section -->
    <div class="px-4 mb-12 bg-white py-6 rounded-lg shadow-sm border border-gray-100 -mt-6 min-h-[450px]">
      <div class="flex items-center justify-between mb-8">
        <h2 class="text-2xl font-bold border-l-8 border-blue-900 pl-4">SẢN PHẨM NỔI BẬT</h2>
      </div>

      <!-- Product Grid -->
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6">

        <div th:each="product : ${products}"
          class="bg-white rounded-lg border border-gray-200 shadow-lg hover:shadow-lg transition-all duration-300 group relative overflow-hidden">

          <!-- Mác giảm giá -->
          <div class="absolute top-3 left-3 z-10" th:if="${product.discountedPrice < product.price}">
            <div class="relative">
              <div class="bg-red-500 text-white text-xs font-bold px-3 py-1 rounded-sm 
                                                transform -rotate-3 origin-left
                                                shadow-[2px_2px_0px_rgba(0,0,0,0.2)] 
                                                group-hover:shadow-[3px_3px_0px_rgba(0,0,0,0.3)]
                                                transition-all duration-200">
                GIẢM <span th:text="${product.discount}">0</span>%
              </div>
              <!-- Hiệu ứng góc gập 3D */ -->
              <div class="absolute top-full left-1 w-4 h-1 bg-red-700 
                                                transform -rotate-6 origin-top-left
                                                opacity-80"></div>
            </div>
          </div>


          <!-- Hình ảnh sản phẩm -->
          <div class="relative">
            <a th:href="@{/detail/} + ${product.variantID}" class="flex items-center justify-center bg-transparent">
              <img th:if="${product.imagesno2 != null}" th:src="@{'/images/' + ${product.imagesno2}}"
                alt="Product image"
                class="w-[200px] mt-7 h-[200px] object-center object-contain transition-transform duration-300 group-hover:scale-110" />
              <img th:unless="${product.imagesno2 != null}" src="https://via.placeholder.com/300x200?text=No+Image"
                alt="Placeholder image"
                class="w-[130px] h-auto object-center object-contain transition-transform duration-300 group-hover:scale-110" />
            </a>

            <!-- Wishlist -->
            <div
              class="absolute top-2 right-2 w-8 h-8 flex items-center justify-center bg-white rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-all duration-300 hover:bg-gray-100">
              <i class="ri-heart-line text-gray-600 hover:text-primary transition-colors"></i>
            </div>

            <!-- Nút giỏ hàng -->
            <button class="absolute right-2 bottom-2 w-10 h-10 flex items-center justify-center bg-[#000f8f] text-white rounded-full 
              transform translate-x-full opacity-0 
              group-hover:translate-x-0 group-hover:opacity-100 
              transition-all duration-500 ease-in-out
              hover:bg-red-700 hover:scale-110 z-10">
              <i class="ri-shopping-cart-line"></i>
            </button>
          </div>

          <!-- Nội dung -->
          <div class="p-4">
            <a th:href="@{/detail/} + ${product.variantID}" class="block">
              <h3 class="font-medium text-gray-800 mb-1 hover:text-yellow-400 transition-colors duration-300"
                th:text="${product.product.productName} + ' ' + ${product.storage} + ' - Chính hãng VN'">
              </h3>

            </a>

            <div class="flex items-center mb-2">
              <div class="flex text-yellow-400" style="font-size: 18px;">
                <i class="ri-star-fill ri-xs"></i>
                <i class="ri-star-fill ri-xs"></i>
                <i class="ri-star-fill ri-xs"></i>
                <i class="ri-star-fill ri-xs"></i>
                <i class="ri-star-fill ri-xs"></i>
              </div>
            </div>

            <div class="flex items-center justify-between">
              <div>
                <!-- Nếu có giảm giá -->
                <span th:if="${product.discountedPrice < product.price}">
                  <span class="text-lg font-bold text-red-600"
                    th:text="${#strings.replace(#numbers.formatDecimal(product.discountedPrice, 0, 'COMMA', 0, 'POINT'), ',', '.')} + ' ₫'">
                  </span> <br>
                  <span class="text-sm text-gray-500 line-through "
                    th:text="${#strings.replace(#numbers.formatDecimal(product.price, 0, 'COMMA', 0, 'POINT'), ',', '.')} + ' ₫'">
                  </span>
                </span>

                <!-- Nếu không giảm -->
                <span th:if="${product.discountedPrice == product.price}">
                  <span class="text-lg font-bold text-red-600"
                    th:text="${#strings.replace(#numbers.formatDecimal(product.price, 0, 'COMMA', 0, 'POINT'), ',', '.')} + ' ₫'">
                  </span>
                </span>



              </div>

              <!-- Fallback cho mobile -->
              <button
                class="w-10 h-10 md:hidden flex items-center justify-center bg-primary text-white rounded-full hover:bg-red-700 transition-all duration-300 transform hover:scale-110">
                <i class="ri-shopping-cart-line"></i>
              </button>
            </div>


          </div>

          <!-- Overlay hover -->
          <div
            class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-5 transition-all duration-300 pointer-events-none">
          </div>
        </div>

      </div>

      <button class="xem-tat-ca-btn" style="margin-top: 20px;"><a href="products">Xem toàn bộ sản phẩm</a> <i
          class="arrow-icon fas fa-arrow-right"></i></button>
    </div>


    <div class="w-full h-full -mt-8">
      <!-- Thêm negative margin -->
      <img th:src="@{/images/banner.webp}" alt="banner" class="w-full h-full object-cover rounded-lg" />

    </div>

    <div class="px-4 mb-12 bg-white py-6 rounded-lg shadow-sm border border-gray-100 mt-4 mb-1.25"
      style="margin-bottom: 70px;">
      <div class="flex items-center justify-between mb-8">
        <h2 class="text-2xl font-bold border-l-8 border-blue-900 pl-4">DANH MỤC NỔI BẬT</h2>
      </div>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6 px-4">
        <!-- Phụ kiện 1 - Ốp lưng -->
        <div
          class="category-card bg-white p-6 rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow">
          <div class="flex flex-col items-center text-center">
            <div class="category-image-container">
              <img th:src="@{/images/image copy 6.png}" alt="Ốp lưng iPhone" class="category-image" />
            </div>
            <h3 class="font-bold text-2xl mb-1">Ốp lưng</h3>
            <p class="text-base text-blue-800 font-semibold">Đa dạng mẫu mã</p>
          </div>
        </div>

        <!-- Phụ kiện 2 - Cáp sạc -->
        <div
          class="category-card bg-white p-6 rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow">
          <div class="flex flex-col items-center text-center">
            <div class="category-image-container">
              <img th:src="@{/images/image copy 7.png}" alt="Cáp sạc" class="category-image" />
            </div>
            <h3 class="font-bold text-2xl mb-1">Cáp sạc</h3>
            <p class="text-base text-blue-800 font-semibold">Chính hãng 100%</p>
          </div>
        </div>

        <!-- Phụ kiện 3 - Tai nghe -->
        <div
          class="category-card bg-white p-6 rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow">
          <div class="flex flex-col items-center text-center">
            <div class="category-image-container">
              <img th:src="@{/images/image copy 8.png}" alt="Pin dự phòng" class="category-image" />
            </div>
            <h3 class="font-bold text-2xl mb-1">Pin dự phòng</h3>
            <p class="text-base text-blue-800 font-semibold">Dung lượng cao</p>
          </div>
        </div>

        <!-- Phụ kiện 4 - Miếng dán màn hình -->
        <div
          class="category-card bg-white p-6 rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow">
          <div class="flex flex-col items-center text-center">
            <div class="category-image-container">
              <img th:src="@{/images/image copy 9.png}" alt="Miếng dán màn hình" class="category-image" />
            </div>
            <h3 class="font-bold text-2xl mb-1">Dán màn hình</h3>
            <p class="text-base text-blue-800 font-semibold">Chống lóa, chống vân tay</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer (Full width) -->
  <div th:insert="views/shared/footer :: footerFragment"></div>



  <!-- Scripts -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    $(document).ready(function () {
      // Category filter functionality
      $("#categorySelect").change(function () {
        const categoryId = $(this).val();
        if (categoryId === "all") {
          window.location.href = "/";
        } else {
          window.location.href = "?category=" + categoryId;
        }
      });
    });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script th:if="${loginSuccess != null}" th:inline="javascript">
    Swal.fire({
        icon: 'success',
        title: 'Thông báo',
        text: /*[[${loginSuccess}]]*/,
        confirmButtonText: 'OK',
        confirmButtonColor: '#8b5cf6'
    });
</script>
</body>

</html>
<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dolaphone - Xác nhận đơn hàng</title>
  <script src="https://cdn.tailwindcss.com/3.4.16"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css" rel="stylesheet" />
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: "#1e40af",
            secondary: "#3b82f6",
          },
          borderRadius: {
            none: "0px",
            sm: "4px",
            DEFAULT: "8px",
            md: "12px",
            lg: "16px",
            xl: "20px",
            "2xl": "24px",
            "3xl": "32px",
            full: "9999px",
            button: "8px",
          },
        },
      },
    };
  </script>
  <style>
    :where([class^="ri-"])::before {
      content: "\f3c2";
    }
  </style>
</head>

<body class="bg-gray-50 min-h-screen">
  <div class="max-w-6xl mx-auto px-4 py-8">
    <header class="bg-white" style="margin-top: -40px">
      <div class="max-w-7xl mx-auto py-4 flex justify-center">
        <img src="https://i.postimg.cc/MHPrfMBt/Screenshot-2025-06-19-212641.png" alt="Logo" class="h-21 object-contain"
          style="margin-bottom: -80px" />
      </div>
    </header>

    <div class="w-[1300px] bg-white rounded-lg shadow-sm p-8 mb-6 mt-[40px] -ml-[100px]">
      <div class="flex items-center mb-6">
        <!-- Icon lớn hơn -->
        <div class="w-14 h-14 bg-green-500 rounded-full flex items-center justify-center mr-4 shadow-lg">
          <i class="ri-check-line text-white text-3xl"></i>
        </div>

        <!-- Nội dung -->
        <div>
          <h2 class="text-xl font-semibold text-gray-800">
            Cảm ơn bạn đã đặt hàng
          </h2>
          <p class="text-gray-600 text-sm">
            Thông tin đơn hàng sẽ được gửi đến email của bạn tại
            <strong th:text="${member.email}">ZXCVBNM@gmail.com</strong>
          </p>
          <p class="text-gray-600 text-sm">Xin vui lòng kiểm tra email!</p>
        </div>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <div class="lg:col-span-2 space-y-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <h3 class="font-semibold text-gray-800 mb-3 text-lg">
                Thông tin mua hàng
              </h3>
              <div class="space-y-2 text-sm text-gray-600">
                <p th:text="${member.fullname}">Nguyễn Văn Minh</p>
                <p th:text="${member.email}">ZXCVBNM@gmail.com</p>
                <p th:text="${member.phone}">+84987654325</p>
              </div>
            </div>

            <div style="margin-right: 100px;">
              <h3 class="font-semibold text-gray-800 mb-3 text-lg">
                Địa chỉ nhận hàng
              </h3>
              <div class="space-y-2 text-sm text-gray-600">
                <div class="space-y-2 text-sm text-gray-600">
                  <p th:text="${member.fullname}">Nguyễn Văn Minh</p>
                  <p th:text="${address}">123 Trần Hưng Đạo</p>
                  <p th:text="${member.phone}">+84987654325</p>
                  <p></p>
                </div>
              </div>
            </div>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <h3 class="font-semibold text-gray-800 mb-3 text-lg">
                Phương thức thanh toán
              </h3>
              <p class="text-sm text-gray-600" th:text="${order.paymentMethod}">
                Chuyển khoản
              </p>
            </div>

            <div>
              <h3 class="font-semibold text-gray-800 mb-3 text-lg">
                Phương thức vận chuyển
              </h3>
              <p class="text-sm text-gray-600">Giao hàng tận nơi</p>
            </div>
          </div>
        </div>
        <!-- phan tren da xu ly, phan duoi chua xu ly -->
        <div class="bg-gray-200 -mt-20 rounded-lg p-6 w-[500px] -ml-[100px]">
          <h3 class="font-semibold text-gray-800 mb-4"
            th:text="'Đơn hàng #' + ${order.orderCode} + ' (' + ${#lists.size(orderDetails)} + ' sản phẩm)'"></h3>

          <div th:each="detail : ${orderDetails}" class="flex items-center mb-4 pb-4 border-b border-gray-200">
            <div class="relative mr-3">
              <img th:src="@{'/images/' + ${detail.productVariant.imagesno2}}"
                th:alt="${detail.productVariant.product.productName}" class="w-16 h-16 rounded-lg object-cover"
                onerror="this.src='https://via.placeholder.com/80?text=No+Image'" />
              <div class="absolute -top-1 -right-1 w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center">
                <span class="text-white text-xs font-bold" th:text="${detail.quantity}">1</span>
              </div>
            </div>
            <div class="flex-1">
              <h4 class="font-medium text-gray-800 text-sm" th:text="${detail.productVariant.product.productName}">
                iPad Air 5 64GB 5G - Chính hãng VN
              </h4>
              <p class="text-xs text-gray-500" th:text="${detail.productVariant.color} ?: ''">
                Tím
              </p>
              <p class="text-xs text-gray-500" th:if="${detail.productVariant.storage != null}"
                th:text="' - ' + ${detail.productVariant.storage}">
                - 64GB
              </p>
            </div>
            <div class="text-right">
              <p class="font-semibold text-gray-800"
                th:text="${#numbers.formatDecimal(detail.price, 1, 'COMMA', 0, 'POINT') + '₫'}">
                18.890.000₫
              </p>
            </div>
          </div>

          <div class="space-y-3 mb-4">
            <div class="flex justify-between text-sm">
              <span class="text-gray-600">Tổng tiền sản phẩm</span>
              <span class="text-gray-800"
                th:text="${#numbers.formatDecimal(productTotal, 1, 'COMMA', 0, 'POINT') + '₫'}">
                18.890.000₫
              </span>
            </div>
            <div class="flex justify-between text-sm">
              <span class="text-gray-600">Phí vận chuyển</span>
              <span class="text-gray-800"
                th:text="${#numbers.formatDecimal(shippingFee, 1, 'COMMA', 0, 'POINT') + '₫'}">
                40.000₫
              </span>
            </div>
            <div class="flex justify-between text-sm">
              <span class="text-gray-600">Tạm tính</span>
              <span class="text-gray-800" th:text="${#numbers.formatDecimal(subtotal, 1, 'COMMA', 0, 'POINT') + '₫'}">
                18.930.000₫
              </span>
            </div>
            <!-- Thêm phần giảm giá nếu có -->
            <div class="flex justify-between text-sm" th:if="${discountAmount > 0}">
              <span class="text-gray-600">Giảm giá</span>
              <span class="text-green-600"
                th:text="'- ' + ${#numbers.formatDecimal(discountAmount, 1, 'COMMA', 0, 'POINT') + '₫'}">
                - 500.000₫
              </span>
            </div>
          </div>

          <div class="border-t border-gray-200 pt-3 mb-6">
            <div class="flex justify-between">
              <span class="font-semibold text-gray-800">Tổng cộng</span>
              <span class="font-bold text-secondary text-lg"
                th:text="${#numbers.formatDecimal(grandTotal, 1, 'COMMA', 0, 'POINT') + '₫'}">
                18.430.000₫
              </span>
            </div>
          </div>
        </div>
      </div>
      <div class="flex flex-col sm:flex-row gap-4 justify-center items-center mt-6">
        <button
          class="flex-1 sm:flex-none bg-green-500 text-white px-8 py-4 rounded-button text-lg font-semibold hover:bg-green-600 transition-colors whitespace-nowrap">
          <a href="/order">Xem đơn hàng</a>
        </button>

        <button
          class="flex-1 sm:flex-none bg-secondary text-white px-8 py-4 rounded-button text-lg font-semibold hover:bg-blue-600 transition-colors whitespace-nowrap">
          <a href="/">Tiếp tục mua hàng</a>
        </button>
        <button
          class="flex items-center justify-center px-8 py-4 rounded-button bg-gray-100 text-gray-800 text-lg font-semibold hover:bg-gray-200 transition-colors whitespace-nowrap">
          <i class="ri-printer-line text-secondary text-2xl mr-3"></i>
          <span class="text-lg">In</span>
        </button>
      </div>
    </div>
  </div>
</body>

</html>